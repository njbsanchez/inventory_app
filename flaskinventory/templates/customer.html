<!DOCTYPE html>
{% extends "base.html" %} {% import "bootstrap/wtf.html" as wtf %}

<head>
	{% block title %} Customers {% endblock %}
	
</head>
<header></header>
<body>
	{% block body %}

	<script src="/static/js/modals.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"/>

	<div class="row-12" style="text-align:center">
	<img src="https://i.postimg.cc/pdsKMRCB/heading-4.png" class:"center" width:"100%">
	</div>

	<div class="container">


	<h1>Customers</h1>
	<div >
		<h3 style="display: inline-block;margin:0;"> Add customer.</h3>
		<button type="button" class="btn btn-add" data-toggle="modal" data-target="#exampleModal">
		<span class="btn-icon-add"><i class="glyphicon glyphicon-plus"></i></span>Add Entity</button>
	</div>

	<!-- add Modal code here-->
	<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="margin-top:150px;">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h3 class="modal-title" id="exampleModalLabel">Add Entity</h3>
					<button
						type="button"
						class="close"
						data-dismiss="modal"
						aria-label="Close"
					>
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<form class="form-addentity form form-horizontal" method="post" role="form">
					<div class="container-fluid">
					<h2 class="form-addEntity-heading">Add Entity</h2>
					{{ form.hidden_tag() }}
					{{ wtf.form_errors(form, hiddens="only") }}
					{{ wtf.form_field(form.contact_name) }}
					{{ wtf.form_field(form.company_name) }}
					<div class="form-group required p-2">
						<label class="control-label" for="premdisc"
							>Entity Role
						</label>
						<p></p>
						{{ form.entity_role}}
						<p></p>
					</div>
					<div class="form-group required p-2">
						<label class="control-label" for="premdisc"
							>Entity Type
						</label>
						<p></p>
						{{ form.entity_type}}
						<p></p>
					</div>
					{{ wtf.form_field(form.email) }}
					{{ wtf.form_field(form.phone) }}
					{{ wtf.form_field(form.notes) }}
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
						<div>{{ form.entitysubmit(class="btn btn-primary") }}</div>
					</div>
				</form>
			</div>
		</div>
	</div>
	<!--end of modal design-->

	<table class="table table-hover">
		<thead>
			<tr>
				<th>ID</th>
				<th>Contact Name</th>
				<th>Company Name</th>
				<th>Customer Type</th>
				<th>Contact Info</th>
				<th>Actions</th>
			</tr>
		</thead>
		<tbody>
			{% for p in details %}
			<tr>
				<td>{{p.id}}</td>
				<td>{{p.contact_name}}</td>
				<td>{{p.contact_name}}</td>
				<td>{{p.entity_type}}</td>
				<td>{{p.email}} â€¢ {{p.phone}}</td>
				<td>
					<a href="/customer/{{ p.id }}" class="btn btn-primary">Profile Details</a>
					<a href="#" style="background-color:red;" class="btn btn-primary">Delete</a>
				</td>
			</tr>
			{%endfor%}
		</tbody>
	</table>
</div>
{% endblock %}

